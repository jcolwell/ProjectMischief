//=================================================================
// File:            AlertLightManager
// Discription:     
//=================================================================

//=================================================================
// INCLUDES
//=================================================================
using UnityEngine;
using System.Collections;
//=================================================================

//=================================================================
// ALERT LIGHT MANAGER
//=================================================================
public class AlertLightManager : MonoBehaviour 
{
    //=============================================================
    // PUBLIC
    //=============================================================
    public bool isActive;
    //=============================================================

    //=============================================================
    // PRIVATE
    //=============================================================
    AlertLightController[] controllers;
    //=============================================================

    //=============================================================
    // PRIVATE
    //=============================================================

    void Start() 
    {
        controllers = GetComponentsInChildren<AlertLightController>();
        isActive = false;
	}

    //=============================================================
    
    void Update()
    {
        Debug.Log( "[Lights] Current State is " + isActive.ToString() );
        if( isActive )
        {
            ToggleOn();
        }
        else
        {
            ToggleOff();
        }
    }
    
    //=============================================================

    public void ToggleLightsOn()
    {
        isActive = true;
    }

    //=============================================================
    
    public void ToggleLightsOff()
    {
        isActive = false;
    }
    
    //=============================================================
    private void ToggleOn()
    {
        Debug.Log( "[Lights] Are Activating" );
        foreach( AlertLightController cntrlr in controllers )
        {
            cntrlr.ToggleOn();
        }
    }

    //=============================================================

    private void ToggleOff()
    {
        Debug.Log( "[Lights] Are deactivating" );
        foreach( AlertLightController cntrlr in controllers )
        {
            cntrlr.ToggleOff();
        }
    }

    //=============================================================

}
//=================================================================
